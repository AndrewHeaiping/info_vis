webpackJsonp([1],{"8Rq/":function(e,t){},BDqw:function(e,t){},LmaM:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),l=new n.default,i={data:function(){this.chartSettings={key:"PyOXfiEWr28QPesl28HcV4pEUqjH9tvP",bmap:{center:[106.5,29.5],zoom:10,roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#021019"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"highway",elementType:"geometry.stroke",stylers:{color:"#147a92"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#0b3d51"}},{featureType:"local",elementType:"geometry",stylers:{color:"#000000"}},{featureType:"land",elementType:"all",stylers:{color:"#08304b"}},{featureType:"railway",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"railway",elementType:"geometry.stroke",stylers:{color:"#08304b"}},{featureType:"subway",elementType:"geometry",stylers:{lightness:-70}},{featureType:"building",elementType:"geometry.fill",stylers:{color:"#000000"}},{featureType:"all",elementType:"labels.text.fill",stylers:{color:"#857f7f"}},{featureType:"all",elementType:"labels.text.stroke",stylers:{color:"#000000"}},{featureType:"building",elementType:"geometry",stylers:{color:"#022338"}},{featureType:"green",elementType:"geometry",stylers:{color:"#062032"}},{featureType:"boundary",elementType:"all",stylers:{color:"#1e1c1c"}},{featureType:"manmade",elementType:"geometry",stylers:{color:"#022338"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"all",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"all",elementType:"labels.text.fill",stylers:{color:"#2da0c6",visibility:"on"}}]}}},this.chartTooltip={trigger:"item",formatter:function(e){var t=e.value;return t[3]+"<br/>接纳人数："+t[2]}};return this.chartEvents={click:function(e){l.$emit("clickMap",e.data[3],e.data[4])}},{chartSeries:[{type:"scatter",coordinateSystem:"bmap",data:[],itemStyle:{normal:{color:"#ddb926"}}}],visualMap:[{min:5e3,max:3e4,show:!1,dimension:2,inRange:{symbolSize:[5,30]},outOfRange:{symbolSize:[5,30],color:["rgba(255,255,255,.2)"]}}]}},mounted:function(){var e=this;this.getInitData(),l.$on("tableClick",function(t,a,n){e.findMapDataByPid(t)})},methods:{getInitData:function(){var e=this;this.$http.post("/map").then(function(t){console.log("成功"),e.chartSeries[0].data=t.data}).catch(function(e){console.log("错误"+e)})},findMapDataByPid:function(e){var t=this;this.$http.post("/findMap",{Id:e}).then(function(e){t.chartSeries[0].data=e.data})}}},o={render:function(){var e=this.$createElement;return(this._self._c||e)("ve-bmap",{staticStyle:{width:"100%"},attrs:{settings:this.chartSettings,series:this.chartSeries,tooltip:this.chartTooltip,visualMap:this.visualMap,events:this.chartEvents}})},staticRenderFns:[]};var r=a("VU/8")(i,o,!1,function(e){a("aECb")},null,null).exports,s={name:"MyTable",data:function(){return{tableData:[],wid:"12345",name:""}},mounted:function(){var e=this;this.initTable(this.name,this.wid),l.$on("changeSelect",function(t,a,n){e.changeData(this.wid,t,a,n)}),l.$on("clickMap",function(t,a){e.name=t,e.wid=a,e.initTable(t,a)})},methods:{initTable:function(e,t){var a=this;a.name=e,a.wid=t,this.$http.post("/tableData",{ID:this.wid}).then(function(e){a.tableData=e.data,console.log(a.tableData)})},changeData:function(e,t,a,n){var l=this;this.$http.post("/tableChangeData",{ID:e,ageS:t[0],ageE:t[1],onceTime:a,allTime:n}).then(function(e){l.tableData=e.data})},tableClick:function(e,t,a){l.$emit("tableClick",e.identityId,this.wid,e.name)}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"my-table"}},[a("el-table",{attrs:{data:e.tableData,"header-row-style":{height:"20px"},size:"mini",height:"100"},on:{"row-click":e.tableClick}},[a("el-table-column",{attrs:{fixed:"",prop:"identityId",label:"身份id",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"80",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"onceTime",label:"单次连续上网时长(h)",width:"160",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"allTime",label:"上网总时长(h)",width:"120",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"frequency",label:"上网次数",width:"100",sortable:""}})],1)],1)},staticRenderFns:[]};var f=a("VU/8")(s,c,!1,function(e){a("VFnq")},null,null).exports,d={name:"calendar",data:function(){return{wid:"12345",pid:"12344",data:[]}},mounted:function(){this.drawLine(this.wid,this.pid,this.name);var e=this;l.$on("tableClick",function(t,a,n){e.drawLine(t,a,n)})},methods:{drawLine:function(e,t,a){var n=this,l=this;l.name=a,this.$http.post("/calendarData",{Pid:e,Wid:t}).then(function(e){var t=n.$echarts.init(document.getElementById("calendar"));l.data=e.data,console.log("calendar"+e.data),t.setOption({left:"center",title:{top:0,text:"上网记录",left:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item",formatter:function(e){return l.name+"<br/>时长："+e.value[1]}},legend:{top:"20",left:"30",data:["时长"],textStyle:{color:"#fff"}},calendar:[{top:80,left:"center",range:["2016-10-01","2016-12-30"],splitLine:{show:!0,lineStyle:{color:"#000",width:4,type:"solid"}},dayLabel:{nameMap:"cn",color:"#fff",firstDay:1},monthLabel:{nameMap:"cn",color:"#fff"},yearLabel:{formatter:"{start} ",textStyle:{color:"#fff"}},itemStyle:{normal:{color:"#323c48",borderWidth:1,borderColor:"#000"}}}],visualMap:[{left:"right",top:"30%",calculable:!0,min:1,max:24,range:[1,12],itemWidth:15,itemHeight:100,show:!0,dimension:1,inRange:{symbolSize:[5,20]},outOfRange:{symbolSize:[5,20],color:["red"]},controller:{inRange:{color:["#ddb926"]},outOfRange:{color:["red"]}},textStyle:{color:["#fff"]}}],series:[{name:"时长",type:"scatter",coordinateSystem:"calendar",data:l.data,itemStyle:{normal:{color:"#ddb926"}}}]})})}}},u={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{id:"calendar"}})},staticRenderFns:[]};var p=a("VU/8")(d,u,!1,function(e){a("BDqw")},null,null).exports,m=a("mtWM"),h=a.n(m),y={name:"ring",data:function(){return{name:"",data:[],wid:""}},mounted:function(){this.drawRing(this.name,this.wid);var e=this;l.$on("clickMap",function(t,a){e.drawRing(t,a)})},methods:{drawRing:function(e,t){var a=this;a.name=e,a.$http.post("/ringData",{ID:t}).then(function(e){console.log("成功"),a.data=e.data,a.$echarts.init(document.getElementById("ring")).setOption({title:{top:0,text:"年龄分布情况",left:"center",textStyle:{color:"#fff",fontSize:16}},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:["<18","18-40","40-60","其它"],textStyle:{color:"#fff",fontSize:"10"},left:"5%",top:"15%"},series:[{name:a.name,type:"pie",radius:["35%","50%"],avoidLabelOverlap:!1,selectedOffset:"single",center:["60%","50%"],label:{fontSize:8,normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"15",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:a.data}]})})}}},g={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"ring"}})])}]};var v={name:"scatter",data:function(){return{data:[],itemStyle:{normal:{opacity:.8,shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},name:"",wid:""}},mounted:function(){this.drawScatter(this.name,this.wid);var e=this;l.$on("clickMap",function(t,a){e.drawScatter(t,a)})},methods:{drawScatter:function(e,t){var a=this;console.log(t),this.$http.post("/scatterData",{ID:t}).then(function(t){for(var n=a.$echarts.init(document.getElementById("scatter")),l=[],i=[],o=[],r=[],s=[],c=0;c<24;c++)l.push(t.data[c][0]),i.push(t.data[c][1]),o.push(t.data[c][2]),r.push(t.data[c][3]),s.push(t.data[c][4]);n.setOption({title:{top:0,text:e,left:"center",textStyle:{color:"#fff",fontSize:16}},color:["#c23531","#2f4554","#61a0a8","#d48265"],legend:{top:24,data:["<18","18-40","40-60","其它"],textStyle:{color:"#fff"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{left:"3%",right:"11%",bottom:"2%",top:"19%",containLabel:!0},xAxis:{type:"category",name:"时间",axisTick:{show:!1},boundaryGap:!1,data:l,axisLabel:{color:"#fff"},axisLine:{lineStyle:{color:"#fff"}}},yAxis:{type:"value",name:"人数",axisLabel:{color:"#fff"},axisLine:{lineStyle:{color:"#fff"}}},series:[{name:"<18",type:"line",areaStyle:{},stack:"总量",data:i},{name:"18-40",type:"line",areaStyle:{},stack:"总量",data:o},{name:"40-60",type:"line",areaStyle:{},stack:"总量",data:r},{name:"其它",type:"line",areaStyle:{},stack:"总量",data:s}]})}),console.log(this.wid)}}},b={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"container"}},[t("div",{staticStyle:{width:"400px",height:"400px"},attrs:{id:"scatter"}})])}]};var w={data:function(){return{age:[1,100],once:0,all:0}},methods:{change:function(e){console.log("change-"+this.age),l.$emit("changeSelect",this.age,this.once,this.all)}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"s"},[a("span",{staticStyle:{color:"#fff","font-size":"13%","text-align":"center"}},[e._v("年龄")]),e._v(" "),a("el-slider",{attrs:{range:"","show-stops":"",max:100},on:{change:e.change},model:{value:e.age,callback:function(t){e.age=t},expression:"age"}}),e._v(" "),a("span",{staticStyle:{color:"#fff","font-size":"13%","text-align":"center"}},[e._v("单次连续上网时间")]),e._v(" "),a("el-slider",{attrs:{"show-stops":"",max:200},on:{change:e.change},model:{value:e.once,callback:function(t){e.once=t},expression:"once"}}),e._v(" "),a("span",{staticStyle:{color:"#fff","font-size":"13%","text-align":"center"}},[e._v("上网总时长")]),e._v(" "),a("el-slider",{attrs:{"show-stops":"",max:1500},on:{change:e.change},model:{value:e.all,callback:function(t){e.all=t},expression:"all"}})],1)},staticRenderFns:[]};var S={name:"App",components:{bmap:r,MyTable:f,calendar:p,ring:a("VU/8")(y,g,!1,function(e){a("8Rq/")},null,null).exports,scatter:a("VU/8")(v,b,!1,function(e){a("weGO")},null,null).exports,mySelect:a("VU/8")(w,T,!1,function(e){a("LmaM")},null,null).exports}},x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"main-left"},[t("bmap"),this._v(" "),t("ring")],1),this._v(" "),t("div",{staticClass:"main-middle"},[t("span",{staticClass:"headline"},[this._v("基于城市网吧数据的违规网吧行为分析")]),this._v(" "),t("div",{staticClass:"block"},[t("mySelect")],1),this._v(" "),t("scatter")],1),this._v(" "),t("div",{staticClass:"main-right"},[t("div",{staticClass:"tab"},[t("MyTable")],1),this._v(" "),t("calendar")],1)])},staticRenderFns:[]};var _=a("VU/8")(S,x,!1,function(e){a("uPzv")},null,null).exports,k=a("vO7p"),$=a.n(k),D=a("XLwt"),M=a.n(D),R=a("zL8q"),C=a.n(R);a("tvR6"),a("telf");n.default.prototype.$http=h.a,n.default.config.productionTip=!1,n.default.use($.a),n.default.prototype.$echarts=M.a,n.default.use(C.a),new n.default({el:"#app",components:{App:_},template:"<App/>"})},VFnq:function(e,t){},aECb:function(e,t){},telf:function(e,t,a){var n=a("zNUS"),l=n.Random;n.mock("/map",/post|get/i,function(){var e=[[106.569253,29.586056,1e4,"江北****会所",50010510000039],[106.488929,29.602083,9e3,"乌托****网吧",50010510000040],[106.653753,29.626325,15e3,"晴天****会所",50010510000051],[106.488929,29.702083,18e3,"天下****网吧",50010510000040],[106.653753,29.826325,25e3,"风信子****会所",50010510000051]];return console.log(e),e}),n.mock("/findMap",/post|get/i,function(e){console.log(e);var t=[[106.569253,l.float(29.4,29.8,0,5),1e4,"江北****会所",50010510000039],[106.488929,l.float(29.4,29.8,0,5),15e3,"重庆****网吧",50010510000040],[106.653753,l.float(29.4,29.8,0,5),2e4,"爱好****会所",50010510000051]];return console.log(t),t}),n.mock("/ringData",/post|get/i,function(e){return console.log(e),[{value:l.integer(300,400),name:"<18"},{value:l.integer(30,100),name:"18-40"},{value:l.integer(200,400),name:"40-60"},{value:l.integer(200,400),name:"其它"}]}),n.mock("/scatterData",/post|get/i,function(e){console.log(e);for(var t=[],a=0;a<24;a++){var n=[a+1,l.integer(300,500),l.integer(20,100),l.integer(50,200),l.integer(50,200)];t.push(n)}return t}),n.mock("/tableData",/post|get/i,function(e){console.log(e);for(var t=[],a=0;a<24;a++){var n={identityId:l.integer(1,100),name:l.cname(),sex:l.integer(0,1),age:l.integer(10,80),onceTime:l.float(1,100,0,1),allTime:l.float(20,1e3,0,1),frequency:l.integer(2,100)};t.push(n)}return t}),n.mock("/tableChangeData",/post|get/i,function(e){console.log(e);for(var t=[],a=0;a<6;a++){var n={identityId:l.integer(1,100),name:l.cname(),sex:l.integer(0,1),age:l.integer(10,80),onceTime:l.float(1,20,0,1),allTime:l.float(20,1e3,0,1),frequency:l.integer(2,100)};t.push(n)}return t}),n.mock("/calendarData",/post|get/i,function(e){console.log(e);for(var t=[],a=0;a<l.integer(5,40);a++){var n=[],i=l.date("dd"),o="2016-"+l.integer(10,12)+"-"+i;n.push(o),n.push(l.float(0,24,0,1)),t.push(n),console.log(n)}return t})},tvR6:function(e,t){},uPzv:function(e,t){},weGO:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.f1a9bbb9ed733f6c5736.js.map